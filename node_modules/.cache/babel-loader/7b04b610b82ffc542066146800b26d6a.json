{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/inputusernamejansen/Documents/DRIVEN/projeto10-trackit/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _toConsumableArray from\"/home/inputusernamejansen/Documents/DRIVEN/projeto10-trackit/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/inputusernamejansen/Documents/DRIVEN/projeto10-trackit/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import{useState,useContext}from'react';import axios from'axios';import styled from'styled-components';import HabitsContext from'./contexts/HabitsContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AddHabit(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openForm=_useState2[0],setOpenForm=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),habitName=_useState4[0],setHabitName=_useState4[1];var days=[\"D\",\"S\",\"T\",\"Q\",\"Q\",\"S\",\"S\"];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedDays=_useState6[0],setSelectedDays=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),enableButton=_useState8[0],setEnableButton=_useState8[1];var _useContext=useContext(HabitsContext),habits=_useContext.habits,setHabits=_useContext.setHabits;var serializedUsedData=localStorage.getItem(\"localUserData\");var localUserData=JSON.parse(serializedUsedData);var body={name:habitName,days:selectedDays};var config={headers:{Authorization:\"Bearer \".concat(localUserData.token)}};function buttonSave(event){event.preventDefault();//(enableButton)?\n//<p>Cadastrar</p>\n//:\n//setButtonContent(<ThreeDots color=\"#FFFFFF\" height={80} width={80} />)\nvar promisse=axios.post('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits',body,config);promisse.then(function(res){setOpenForm(!openForm);});promisse.catch(function(){return setEnableButton(true);});}function toggleDay(selected,index){if(!selected){setSelectedDays([].concat(_toConsumableArray(selectedDays),[index]));}else{var newDay=selectedDays.filter(function(day){return day!==index;});setSelectedDays(newDay);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MyHabits,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Meus h\\xE1bitos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setOpenForm(!openForm);},children:\"+\"})]}),openForm&&/*#__PURE__*/_jsx(ConfigureHabit,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:buttonSave,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"nome do h\\xE1bito\",onChange:function onChange(e){return setHabitName(e.target.value);},required:true},\"name\"),/*#__PURE__*/_jsx(Days,{children:days.map(function(day,index){return/*#__PURE__*/_jsx(DiaDaSemana,{toggleDay:toggleDay,index:index,day:day},index);})}),/*#__PURE__*/_jsxs(Buttons,{children:[/*#__PURE__*/_jsx(Cancel,{children:\"Cancelar\"}),/*#__PURE__*/_jsx(Save,{type:\"submit\",children:\"Salvar\"})]})]})},1)]});}function DiaDaSemana(_ref){var toggleDay=_ref.toggleDay,day=_ref.day,index=_ref.index;var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),selected=_useState10[0],setSelected=_useState10[1];return/*#__PURE__*/_jsx(Divao,{onClick:function onClick(){setSelected(!selected);toggleDay(selected,index);},selected:selected,children:day},index);}var Divao=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 30px;\\n    height: 30px;\\n\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n\\n    background-color: \",\";\\n    color:\",\";\\n    border: 1px solid #D5D5D5;\\n    border-radius: 3px;\\n\"])),function(_ref2){var selected=_ref2.selected;return selected?\"#D5D5D5\":\"#FFFFFF\";},function(_ref3){var selected=_ref3.selected;return selected?\"#FFFFFF\":\"#D5D5D5\";});var MyHabits=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    height: 10vh;\\n    width: 100%;\\n\\n    margin-top: 12vh;\\n    box-sizing: border-box;\\n\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n\\n    font-size: 22px;\\n    color: #126BA5;\\n\\n        button{\\n            height: 40px;\\n            width: 40px;\\n            background-color:#52B6FF;\\n\\n            font-size: 30px;\\n            font-style: bold;\\n            color: #FFFFFF;\\n        }\\n\"])));var ConfigureHabit=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    height: 25vh;\\n    width: 100%;\\n    background-color: #ffffff;\\n\\n    border-radius: 5px;\\n    padding: 15px;\\n    box-sizing: border-box;\\n\\n    margin-bottom: 10px;\\n\\n    position: relative;\\n\\n        form{\\n            height: 55%;\\n            width: 100%;\\n\\n            display: flex;\\n            flex-direction: column;\\n            justify-content: space-between;\\n        }\\n        input{\\n            height: 45%;\\n            width: 80vw;\\n            border: 1px solid #D5D5D5;\\n            border-radius: 5px;\\n            font-size: 18px;\\n        }\\n        input::placeholder{\\n            color: #D5D5D5;\\n        }\\n\"])));var Days=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 75%;\\n\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n\"])));var Buttons=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    height: 25%;\\n    width: 70%;\\n    \\n    position: absolute;\\n    bottom: 15px;\\n    right: -7px;\\n    style: \",\";\\n\"])),function(props){return props.save;});var Save=styled.button(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    height: 100%;\\n    width: 45%;\\n    background-color: #52B6FF;\\n    color: #FFFFFF;\\n\"])));var Cancel=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    height: 100%;\\n    width: 45%;\\n    background-color: #FFFFFF;\\n    color: #52B6FF;\\n    \"])));","map":{"version":3,"names":["useState","useContext","axios","styled","HabitsContext","AddHabit","openForm","setOpenForm","habitName","setHabitName","days","selectedDays","setSelectedDays","enableButton","setEnableButton","habits","setHabits","serializedUsedData","localStorage","getItem","localUserData","JSON","parse","body","name","config","headers","Authorization","token","buttonSave","event","preventDefault","promisse","post","then","res","catch","toggleDay","selected","index","newDay","filter","day","e","target","value","map","DiaDaSemana","setSelected","Divao","div","MyHabits","ConfigureHabit","Days","Buttons","props","save","Save","button","Cancel"],"sources":["/home/inputusernamejansen/Documents/DRIVEN/projeto10-trackit/src/components/AddHabit.js"],"sourcesContent":["import {useState, useContext} from 'react';\n\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nimport HabitsContext from './contexts/HabitsContext';\n\n\nexport default function AddHabit(){\n    const [openForm, setOpenForm] = useState(false);\n\n    const [habitName, setHabitName] = useState('');\n    const days = [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"];\n\n    const [selectedDays, setSelectedDays] = useState([]);\n    const [enableButton, setEnableButton] = useState(false);\n\n    const {habits, setHabits} = useContext(HabitsContext);\n\n    const serializedUsedData = localStorage.getItem(\"localUserData\");\n    const localUserData = JSON.parse(serializedUsedData);\n\n    const body = {\n        name: habitName,\n        days: selectedDays\n    }\n\n    const config = {\n        headers: {\n            Authorization: `Bearer ${localUserData.token}`\n        }\n    }\n\n    function buttonSave(event){\n        \n        event.preventDefault();\n\n        //(enableButton)?\n\n            //<p>Cadastrar</p>\n        //:\n            //setButtonContent(<ThreeDots color=\"#FFFFFF\" height={80} width={80} />)\n\n        const promisse = axios.post('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits', body, config);\n\n        promisse.then((res) => {\n\n            setOpenForm(!openForm);\n\n        });\n        promisse.catch(() => setEnableButton(true));\n\n    }\n\n    function toggleDay(selected, index){\n        if(!selected){\n            setSelectedDays([...selectedDays, index]);\n\n        } else{\n            const newDay = selectedDays.filter(day => day !== index);\n            setSelectedDays(newDay);\n        }\n        \n    }\n\n    return(\n        <>\n            <MyHabits>\n                <p>Meus hábitos</p>\n                <button onClick={() => {setOpenForm(!openForm)}}>+</button>\n            </MyHabits>\n\n            {openForm && <ConfigureHabit key={1}>\n                <form onSubmit={buttonSave}>\n                    <input key=\"name\" type=\"text\" placeholder=\"nome do hábito\" onChange={(e) => setHabitName(e.target.value)} required/>\n                    <Days>\n                        {days.map((day, index) => <DiaDaSemana key={index} toggleDay={toggleDay} index={index} day={day} />)}\n                    </Days>\n                <Buttons>\n                    <Cancel>Cancelar</Cancel>\n                    <Save type=\"submit\">Salvar</Save>\n                </Buttons>\n                </form>\n            </ConfigureHabit>}\n        </>\n    );\n}\n\nfunction DiaDaSemana({toggleDay, day, index}) {\n    const [selected, setSelected] = useState(false);\n\n    return (\n        <Divao key={index} onClick={() => { setSelected(!selected); toggleDay(selected, index) }} selected={selected}>{day}</Divao>\n    )\n}\n\nconst Divao = styled.div`\n    width: 30px;\n    height: 30px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-color: ${({selected}) => selected ? \"#D5D5D5\" : \"#FFFFFF\"};\n    color:${({selected}) => selected ? \"#FFFFFF\" : \"#D5D5D5\"};\n    border: 1px solid #D5D5D5;\n    border-radius: 3px;\n`;\nconst MyHabits = styled.div`\n    height: 10vh;\n    width: 100%;\n\n    margin-top: 12vh;\n    box-sizing: border-box;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n    font-size: 22px;\n    color: #126BA5;\n\n        button{\n            height: 40px;\n            width: 40px;\n            background-color:#52B6FF;\n\n            font-size: 30px;\n            font-style: bold;\n            color: #FFFFFF;\n        }\n`;\nconst ConfigureHabit = styled.div`\n    height: 25vh;\n    width: 100%;\n    background-color: #ffffff;\n\n    border-radius: 5px;\n    padding: 15px;\n    box-sizing: border-box;\n\n    margin-bottom: 10px;\n\n    position: relative;\n\n        form{\n            height: 55%;\n            width: 100%;\n\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n        }\n        input{\n            height: 45%;\n            width: 80vw;\n            border: 1px solid #D5D5D5;\n            border-radius: 5px;\n            font-size: 18px;\n        }\n        input::placeholder{\n            color: #D5D5D5;\n        }\n`;\n\nconst Days = styled.div`\n    width: 75%;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n`;\n\nconst Buttons = styled.div`\n    height: 25%;\n    width: 70%;\n    \n    position: absolute;\n    bottom: 15px;\n    right: -7px;\n    style: ${props => props.save};\n`;\n\nconst Save = styled.button`\n    height: 100%;\n    width: 45%;\n    background-color: #52B6FF;\n    color: #FFFFFF;\n`;\n\nconst Cancel = styled.button`\n    height: 100%;\n    width: 45%;\n    background-color: #FFFFFF;\n    color: #52B6FF;\n    `;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}