{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/inputusernamejansen/Documents/DRIVEN/projeto10-trackit/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import{useContext,useEffect}from'react';import axios from'axios';import styled from'styled-components';import HabitsContext from'./contexts/HabitsContext';import trash from'../image/trash.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Habit(){var days=[\"D\",\"S\",\"T\",\"Q\",\"Q\",\"S\",\"S\"];var _useContext=useContext(HabitsContext),habits=_useContext.habits,setHabits=_useContext.setHabits;var serializedUsedData=localStorage.getItem(\"localUserData\");var localUserData=JSON.parse(serializedUsedData);var config={headers:{Authorization:\"Bearer \".concat(localUserData.token)}};useEffect(function(){var promisse=axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits',config);promisse.then(function(response){setHabits(response.data);});promisse.catch(function(){return window.alert(\"deu ruim...\");});// eslint-disable-next-line \n},[]);function deleteHabit(habitId){var promisse=axios.delete(\"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/\".concat(habitId),{headers:{\"Authorization\":\"Bearer \".concat(localUserData.token)}});promisse.then(function(){var promisse=axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits',config);promisse.then(function(response){setHabits(response.data);});promisse.catch(function(){return window.alert(\"deu ruim...\");});});}return(// eslint-disable-next-line \nhabits.map(function(habit,id){return/*#__PURE__*/_jsxs(SessionHabit,{children:[/*#__PURE__*/_jsxs(HabitName,{children:[/*#__PURE__*/_jsx(\"h1\",{children:habit.name}),/*#__PURE__*/_jsx(Trash,{onClick:function onClick(){return deleteHabit(habit.id);},children:/*#__PURE__*/_jsx(\"img\",{src:trash,alt:\"trash\"})})]}),/*#__PURE__*/_jsx(Days,{children:days.map(function(day,index){return renderDays(day,index,habit.days);})},id)]},id);}));}function renderDays(day,index,habitDays){return/*#__PURE__*/_jsx(Day,{color:habitDays.includes(index)?\"#D5D5D5\":\"#FFFFFF\",background:habitDays.includes(index)?\"#FFFFFF\":\"#D5D5D5\",children:day},index);}var SessionHabit=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    height: 14vh;\\n    width: 100%;\\n    background-color: #ffffff;\\n\\n    border-radius: 5px;\\n    padding: 15px;\\n    box-sizing: border-box;\\n    margin-bottom: 10px;\\n\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-between;\\n\\n        h1{\\n            font-size: 20px;\\n        }\\n\\n\\n\"])));var HabitName=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    height: 30%;\\n    width: 100%;\\n\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n\\n        h1{\\n            color: \\\"#666666\\\";\\n        }\\n\"])));var Trash=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\n    height: 30px;\\n    width: 30px;\\n\\n    display: flex;\\n    justify-content: right;\\n    align-items: center;\\n\\n    img{\\n            height: 15px;\\n            width: 15px;\\n\\n        }\\n\"])));var Days=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 75%;\\n\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n\\n\"])));var Day=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    width: 30px;\\n    height: 30px;\\n    border-radius: 3px;\\n    border: 1px solid #d5d5d5;\\n\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n\\n    background-color: \",\";\\n    color: \",\";\\n\\n\"])),function(props){return props.background;},function(props){return props.color;});","map":{"version":3,"names":["useContext","useEffect","axios","styled","HabitsContext","trash","Habit","days","habits","setHabits","serializedUsedData","localStorage","getItem","localUserData","JSON","parse","config","headers","Authorization","token","promisse","get","then","response","data","catch","window","alert","deleteHabit","habitId","delete","map","habit","id","name","day","index","renderDays","habitDays","includes","SessionHabit","div","HabitName","Trash","Days","Day","props","background","color"],"sources":["/home/inputusernamejansen/Documents/DRIVEN/projeto10-trackit/src/components/Habit.js"],"sourcesContent":["import { useContext, useEffect } from 'react';\nimport axios from 'axios';\n\nimport styled from 'styled-components';\nimport HabitsContext from './contexts/HabitsContext';\n\nimport trash from '../image/trash.png';\n\nexport default function Habit() {\n    \n    const days = [\"D\", \"S\", \"T\", \"Q\", \"Q\", \"S\", \"S\"];\n\n    const { habits, setHabits } = useContext(HabitsContext)\n\n    const serializedUsedData = localStorage.getItem(\"localUserData\");\n    const localUserData = JSON.parse(serializedUsedData);\n\n    const config = {\n        headers: {\n            Authorization: `Bearer ${localUserData.token}`\n        }\n    }\n\n    useEffect(() => {\n\n        const promisse = axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits', config);\n\n        promisse.then((response) => {\n            setHabits(response.data);\n           \n        });\n        promisse.catch(() => window.alert(\"deu ruim...\"));\n        // eslint-disable-next-line \n    }, []);\n\n\n\n    function deleteHabit(habitId){\n\n        const promisse = axios.delete(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/${habitId}`,{\n\n            headers:{\"Authorization\": `Bearer ${localUserData.token}`}\n\n        });\n\n        promisse.then(\n            () => {\n                const promisse = axios.get('https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits', config);\n\n                promisse.then((response) => {\n                    \n                    setHabits(response.data);\n                \n                });\n                promisse.catch(() => window.alert(\"deu ruim...\"));\n            }\n        );\n\n    }\n\n    return (\n        // eslint-disable-next-line \n        habits.map((habit, id) => {\n\n            return (\n                <SessionHabit key={id}>\n                    <HabitName>\n                        <h1>{habit.name}</h1>\n                        <Trash onClick={()=> deleteHabit(habit.id)}>\n                            <img src={trash} alt=\"trash\"/>\n                        </Trash>\n                    </HabitName>\n                    \n\n                    <Days key={id}>\n                        {\n                            days.map((day, index) => {\n\n                                return (\n                                    renderDays(day, index, habit.days)\n                                )\n                            })\n                        }\n                    </Days>\n                </SessionHabit>\n            )\n        })\n\n    )\n}\n\nfunction renderDays(day, index, habitDays) {\n\n    return (\n        <Day\n            key={index}\n            color={(habitDays.includes(index) ? \"#D5D5D5\" : \"#FFFFFF\")}\n            background={habitDays.includes(index) ? \"#FFFFFF\" : \"#D5D5D5\"}>\n            {day}\n        </Day>\n    )\n}\n\nconst SessionHabit = styled.div`\n    height: 14vh;\n    width: 100%;\n    background-color: #ffffff;\n\n    border-radius: 5px;\n    padding: 15px;\n    box-sizing: border-box;\n    margin-bottom: 10px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n        h1{\n            font-size: 20px;\n        }\n\n\n`;\nconst HabitName = styled.div`\n    height: 30%;\n    width: 100%;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n\n        h1{\n            color: \"#666666\";\n        }\n`;\n\nconst Trash = styled.div`\n\n    height: 30px;\n    width: 30px;\n\n    display: flex;\n    justify-content: right;\n    align-items: center;\n\n    img{\n            height: 15px;\n            width: 15px;\n\n        }\n`;\n\nconst Days = styled.div`\n    width: 75%;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n\n`;\n\nconst Day = styled.div`\n    width: 30px;\n    height: 30px;\n    border-radius: 3px;\n    border: 1px solid #d5d5d5;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-color: ${props => props.background};\n    color: ${props => props.color};\n\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module"}